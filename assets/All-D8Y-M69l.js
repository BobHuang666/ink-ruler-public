import{d as D,k as h,a8 as T,c as s,a as o,b as l,N as C,w as u,e as p,r as y,F as _,x as w,g as r,f as V,a9 as F,t as i,a2 as z,o as e,aa as I,_ as M}from"./index-DECpGxzK.js";import{a as S}from"./classic-CssVj8Rj.js";const E={class:"classic-all-page"},L={class:"all-inner"},R={class:"header"},W={key:0,class:"loading-wrap"},$={key:1,class:"empty-wrap"},j={key:2,class:"grid-wrap"},q={class:"card-inner"},G={class:"card-original"},H={class:"card-footer"},J={class:"card-meta"},K={key:4,class:"card-genre"},O={class:"card-right"},P={class:"card-likes"},Q={key:3,class:"footer-actions"},U=D({name:"ClassicAll",__name:"All",setup(X){const c=h([]),d=h(!1),b={格物修身:"cat-purple",济世情怀:"cat-indigo",道德情操:"cat-sky",人与自然:"cat-cyan",哲理思辨:"cat-emerald",文化传承:"cat-lime",理想信念:"cat-amber",成长成才:"cat-orange",家国情怀:"cat-red"};function x(n){const t=n.categories;return t?(Array.isArray(t)?t:String(t).split(",").map(m=>m.trim())).slice(0,2):[]}function A(n){return b[n.trim()]??"cat-gray"}async function v(){d.value=!0;try{const n=await S();c.value=n??[]}finally{d.value=!1}}async function f(){await v(),window.scrollTo({top:0,behavior:"smooth"})}return T(()=>{const n=I();n?.name==="ClassicItemDetail"||n?.path?.startsWith("/classic/item/")||v()}),(n,t)=>{const g=y("el-button"),m=y("el-icon"),N=y("el-empty"),B=y("router-link");return e(),s("div",E,[t[6]||(t[6]=o("div",{class:"page-bg"},[o("div",{class:"page-bg-gradient"})],-1)),o("div",L,[o("section",R,[t[1]||(t[1]=o("h1",{class:"title title-font"},"句海漫游",-1)),t[2]||(t[2]=o("p",{class:"subtitle content-font"},"随机探索传统文化瑰宝",-1)),c.value.length>0?(e(),C(g,{key:0,type:"primary",loading:d.value,onClick:f},{default:u(()=>[...t[0]||(t[0]=[r("换一批",-1)])]),_:1},8,["loading"])):l("",!0)]),d.value&&c.value.length===0?(e(),s("section",W,[p(m,{class:"is-loading",size:32},{default:u(()=>[p(V(F))]),_:1})])):c.value.length===0&&!d.value?(e(),s("section",$,[p(N,{description:"暂无素材，请稍后再试"},{default:u(()=>[p(g,{type:"primary",onClick:f},{default:u(()=>[...t[3]||(t[3]=[r("重新加载",-1)])]),_:1})]),_:1})])):(e(),s("section",j,[(e(!0),s(_,null,w(c.value,a=>(e(),C(B,{key:a.id,to:`/classic/item/${a.id}`,class:"item-card"},{default:u(()=>[o("div",q,[o("h3",G,i(a.original_text),1),o("div",H,[o("span",J,[a.dynasty?(e(),s(_,{key:0},[r("［"+i(a.dynasty)+"］",1)],64)):l("",!0),a.author?(e(),s(_,{key:1},[r(i(a.author),1)],64)):l("",!0),a.author&&a.source?(e(),s(_,{key:2},[r(" · ")],64)):l("",!0),a.source?(e(),s(_,{key:3},[r(i(a.source),1)],64)):l("",!0),a.genre?(e(),s("span",K,i(a.genre),1)):l("",!0)]),o("div",O,[o("span",P,[t[4]||(t[4]=o("span",{class:"icon-heart"},null,-1)),r(" "+i(a.likes??0),1)]),(e(!0),s(_,null,w(x(a),k=>(e(),s("span",{key:k,class:z(["category-tag",A(k)])},i(k),3))),128))])])])]),_:2},1032,["to"]))),128))])),c.value.length>0?(e(),s("section",Q,[p(g,{type:"primary",loading:d.value,onClick:f},{default:u(()=>[...t[5]||(t[5]=[r("换一批",-1)])]),_:1},8,["loading"])])):l("",!0)])])}}}),tt=M(U,[["__scopeId","data-v-56b0fd3e"]]);export{tt as default};
//# sourceMappingURL=All-D8Y-M69l.js.map
