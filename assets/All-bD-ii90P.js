import{d as C,l as m,a0 as b,c as a,a as o,b as i,j as v,w as r,e as c,r as _,F as x,x as N,g,f as A,a1 as B,D as d,o as e,a2 as V,_ as D}from"./index-BN8HEDSF.js";import{a as F}from"./classic-HeyjI9HZ.js";const I={class:"classic-all-page"},T={class:"all-inner"},j={class:"header"},z={key:0,class:"loading-wrap"},E={key:1,class:"empty-wrap"},L={key:2,class:"grid-wrap"},M={class:"original content-font"},R={key:0,class:"translation"},S={class:"meta"},$={key:0},q={key:1},G={key:2},H={key:3,class:"footer-actions"},J=C({name:"ClassicAll",__name:"All",setup(K){const n=m([]),l=m(!1);async function y(){l.value=!0;try{const p=await F();n.value=p??[]}finally{l.value=!1}}async function u(){await y(),window.scrollTo({top:0,behavior:"smooth"})}return b(()=>{V()?.name!=="ClassicItemDetail"&&y()}),(p,t)=>{const f=_("el-button"),k=_("el-icon"),h=_("el-empty"),w=_("router-link");return e(),a("div",I,[t[5]||(t[5]=o("div",{class:"page-bg"},[o("div",{class:"page-bg-gradient"})],-1)),o("div",T,[o("section",j,[t[1]||(t[1]=o("h1",{class:"title title-font"},"句海漫游",-1)),t[2]||(t[2]=o("p",{class:"subtitle content-font"},"随机探索传统文化瑰宝",-1)),n.value.length>0?(e(),v(f,{key:0,type:"primary",loading:l.value,onClick:u},{default:r(()=>[...t[0]||(t[0]=[g("换一批",-1)])]),_:1},8,["loading"])):i("",!0)]),l.value&&n.value.length===0?(e(),a("section",z,[c(k,{class:"is-loading",size:32},{default:r(()=>[c(A(B))]),_:1})])):n.value.length===0&&!l.value?(e(),a("section",E,[c(h,{description:"暂无素材，请稍后再试"},{default:r(()=>[c(f,{type:"primary",onClick:u},{default:r(()=>[...t[3]||(t[3]=[g("重新加载",-1)])]),_:1})]),_:1})])):(e(),a("section",L,[(e(!0),a(x,null,N(n.value,s=>(e(),v(w,{key:s.id,to:`/classic/item/${s.id}`,class:"item-card"},{default:r(()=>[o("p",M,d(s.original_text),1),s.translation?(e(),a("p",R,d(s.translation),1)):i("",!0),o("div",S,[s.author?(e(),a("span",$,d(s.author),1)):i("",!0),s.dynasty?(e(),a("span",q,d(s.dynasty),1)):i("",!0),s.genre?(e(),a("span",G,d(s.genre),1)):i("",!0)])]),_:2},1032,["to"]))),128))])),n.value.length>0?(e(),a("section",H,[c(f,{type:"primary",loading:l.value,onClick:u},{default:r(()=>[...t[4]||(t[4]=[g("换一批",-1)])]),_:1},8,["loading"])])):i("",!0)])])}}}),Q=D(J,[["__scopeId","data-v-5f02c201"]]);export{Q as default};
//# sourceMappingURL=All-bD-ii90P.js.map
