import{d as T,l as h,a0 as V,c as o,a as e,b as r,j as C,w as u,e as p,r as y,F as _,x as w,g as n,f as D,a1 as F,D as l,a2 as z,o as a,a3 as I,_ as M}from"./index-qlAaUHAc.js";import{a as S}from"./classic-5DaiGLHE.js";const j={class:"classic-all-page"},E={class:"all-inner"},L={class:"header"},R={key:0,class:"loading-wrap"},$={key:1,class:"empty-wrap"},q={key:2,class:"grid-wrap"},G={class:"card-inner"},H={class:"card-original"},J={key:0,class:"card-trans-wrap"},K={class:"card-trans"},O={class:"card-footer"},P={class:"card-meta"},Q={key:4,class:"card-genre"},U={class:"card-right"},W={class:"card-likes"},X={key:3,class:"footer-actions"},Y=T({name:"ClassicAll",__name:"All",setup(Z){const c=h([]),d=h(!1),b={格物修身:"cat-purple",济世情怀:"cat-indigo",道德情操:"cat-sky",人与自然:"cat-cyan",哲理思辨:"cat-emerald",文化传承:"cat-lime",理想信念:"cat-amber",成长成才:"cat-orange",家国情怀:"cat-red"};function x(i){const t=i.categories;return t?(Array.isArray(t)?t:String(t).split(",").map(m=>m.trim())).slice(0,2):[]}function A(i){return b[i.trim()]??"cat-gray"}async function k(){d.value=!0;try{const i=await S();c.value=i??[]}finally{d.value=!1}}async function f(){await k(),window.scrollTo({top:0,behavior:"smooth"})}return V(()=>{I()?.name!=="ClassicItemDetail"&&k()}),(i,t)=>{const g=y("el-button"),m=y("el-icon"),N=y("el-empty"),B=y("router-link");return a(),o("div",j,[t[7]||(t[7]=e("div",{class:"page-bg"},[e("div",{class:"page-bg-gradient"})],-1)),e("div",E,[e("section",L,[t[1]||(t[1]=e("h1",{class:"title title-font"},"句海漫游",-1)),t[2]||(t[2]=e("p",{class:"subtitle content-font"},"随机探索传统文化瑰宝",-1)),c.value.length>0?(a(),C(g,{key:0,type:"primary",loading:d.value,onClick:f},{default:u(()=>[...t[0]||(t[0]=[n("换一批",-1)])]),_:1},8,["loading"])):r("",!0)]),d.value&&c.value.length===0?(a(),o("section",R,[p(m,{class:"is-loading",size:32},{default:u(()=>[p(D(F))]),_:1})])):c.value.length===0&&!d.value?(a(),o("section",$,[p(N,{description:"暂无素材，请稍后再试"},{default:u(()=>[p(g,{type:"primary",onClick:f},{default:u(()=>[...t[3]||(t[3]=[n("重新加载",-1)])]),_:1})]),_:1})])):(a(),o("section",q,[(a(!0),o(_,null,w(c.value,s=>(a(),C(B,{key:s.id,to:`/classic/item/${s.id}`,class:"item-card"},{default:u(()=>[e("div",G,[e("h3",H,l(s.original_text),1),s.translation?(a(),o("div",J,[e("p",K,[t[4]||(t[4]=e("b",null,"翻译：",-1)),n(l(s.translation),1)])])):r("",!0),e("div",O,[e("span",P,[s.dynasty?(a(),o(_,{key:0},[n("［"+l(s.dynasty)+"］",1)],64)):r("",!0),s.author?(a(),o(_,{key:1},[n(l(s.author),1)],64)):r("",!0),s.author&&s.source?(a(),o(_,{key:2},[n(" · ")],64)):r("",!0),s.source?(a(),o(_,{key:3},[n(l(s.source),1)],64)):r("",!0),s.genre?(a(),o("span",Q,l(s.genre),1)):r("",!0)]),e("div",U,[e("span",W,[t[5]||(t[5]=e("span",{class:"icon-heart"},null,-1)),n(" "+l(s.likes??0),1)]),(a(!0),o(_,null,w(x(s),v=>(a(),o("span",{key:v,class:z(["category-tag",A(v)])},l(v),3))),128))])])])]),_:2},1032,["to"]))),128))])),c.value.length>0?(a(),o("section",X,[p(g,{type:"primary",loading:d.value,onClick:f},{default:u(()=>[...t[6]||(t[6]=[n("换一批",-1)])]),_:1},8,["loading"])])):r("",!0)])])}}}),at=M(Y,[["__scopeId","data-v-e91b63e4"]]);export{at as default};
//# sourceMappingURL=All-Dgv7ctSj.js.map
