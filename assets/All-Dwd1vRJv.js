import{d as T,l as h,a2 as V,c as s,a as o,b as l,j as C,w as u,e as p,r as y,F as _,x as b,g as n,f as D,a3 as F,D as i,X as z,o as a,a4 as I,_ as M}from"./index-D4Y8RUFA.js";import{a as S}from"./classic-DikB-Hlw.js";const j={class:"classic-all-page"},E={class:"all-inner"},L={class:"header"},R={key:0,class:"loading-wrap"},X={key:1,class:"empty-wrap"},$={key:2,class:"grid-wrap"},q={class:"card-inner"},G={class:"card-original"},H={class:"card-footer"},J={class:"card-meta"},K={key:4,class:"card-genre"},O={class:"card-right"},P={class:"card-likes"},Q={key:3,class:"footer-actions"},U=T({name:"ClassicAll",__name:"All",setup(W){const c=h([]),d=h(!1),w={格物修身:"cat-purple",济世情怀:"cat-indigo",道德情操:"cat-sky",人与自然:"cat-cyan",哲理思辨:"cat-emerald",文化传承:"cat-lime",理想信念:"cat-amber",成长成才:"cat-orange",家国情怀:"cat-red"};function x(r){const t=r.categories;return t?(Array.isArray(t)?t:String(t).split(",").map(m=>m.trim())).slice(0,2):[]}function A(r){return w[r.trim()]??"cat-gray"}async function k(){d.value=!0;try{const r=await S();c.value=r??[]}finally{d.value=!1}}async function f(){await k(),window.scrollTo({top:0,behavior:"smooth"})}return V(()=>{I()?.name!=="ClassicItemDetail"&&k()}),(r,t)=>{const g=y("el-button"),m=y("el-icon"),N=y("el-empty"),B=y("router-link");return a(),s("div",j,[t[6]||(t[6]=o("div",{class:"page-bg"},[o("div",{class:"page-bg-gradient"})],-1)),o("div",E,[o("section",L,[t[1]||(t[1]=o("h1",{class:"title title-font"},"句海漫游",-1)),t[2]||(t[2]=o("p",{class:"subtitle content-font"},"随机探索传统文化瑰宝",-1)),c.value.length>0?(a(),C(g,{key:0,type:"primary",loading:d.value,onClick:f},{default:u(()=>[...t[0]||(t[0]=[n("换一批",-1)])]),_:1},8,["loading"])):l("",!0)]),d.value&&c.value.length===0?(a(),s("section",R,[p(m,{class:"is-loading",size:32},{default:u(()=>[p(D(F))]),_:1})])):c.value.length===0&&!d.value?(a(),s("section",X,[p(N,{description:"暂无素材，请稍后再试"},{default:u(()=>[p(g,{type:"primary",onClick:f},{default:u(()=>[...t[3]||(t[3]=[n("重新加载",-1)])]),_:1})]),_:1})])):(a(),s("section",$,[(a(!0),s(_,null,b(c.value,e=>(a(),C(B,{key:e.id,to:`/classic/item/${e.id}`,class:"item-card"},{default:u(()=>[o("div",q,[o("h3",G,i(e.original_text),1),o("div",H,[o("span",J,[e.dynasty?(a(),s(_,{key:0},[n("［"+i(e.dynasty)+"］",1)],64)):l("",!0),e.author?(a(),s(_,{key:1},[n(i(e.author),1)],64)):l("",!0),e.author&&e.source?(a(),s(_,{key:2},[n(" · ")],64)):l("",!0),e.source?(a(),s(_,{key:3},[n(i(e.source),1)],64)):l("",!0),e.genre?(a(),s("span",K,i(e.genre),1)):l("",!0)]),o("div",O,[o("span",P,[t[4]||(t[4]=o("span",{class:"icon-heart"},null,-1)),n(" "+i(e.likes??0),1)]),(a(!0),s(_,null,b(x(e),v=>(a(),s("span",{key:v,class:z(["category-tag",A(v)])},i(v),3))),128))])])])]),_:2},1032,["to"]))),128))])),c.value.length>0?(a(),s("section",Q,[p(g,{type:"primary",loading:d.value,onClick:f},{default:u(()=>[...t[5]||(t[5]=[n("换一批",-1)])]),_:1},8,["loading"])])):l("",!0)])])}}}),tt=M(U,[["__scopeId","data-v-11abcbbd"]]);export{tt as default};
//# sourceMappingURL=All-Dwd1vRJv.js.map
