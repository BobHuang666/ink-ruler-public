{"version":3,"file":"Dashboard-CVsn53LE.js","sources":["../../src/api/admin.ts","../../src/views/admin/Dashboard.vue"],"sourcesContent":["import request from '@/utils/request'\nimport type { AdminMetrics, AdminLog, ContentFlag } from '@/types/admin'\nimport type { UserDetail } from '@/types/user'\nimport type { PageResponse } from '@/types/api'\n\n// 管理员指标\nexport async function getMetrics(): Promise<AdminMetrics> {\n  const res = await request.get<AdminMetrics>('/admin/metrics')\n  return res.data\n}\n\n// 用户列表（管理端）\nexport async function getUserList(params: {\n  q?: string\n  role?: string\n  status?: string\n  page?: number\n  size?: number\n}): Promise<PageResponse<UserDetail>> {\n  const page = params.page ?? 1\n  const size = params.size ?? 10\n  const res = await request.get<{ list: Record<string, unknown>[]; total: number }>(\n    '/admin/users',\n    {\n      params: { q: params.q, role: params.role, status: params.status, page, size },\n    }\n  )\n  const list = (res.data.list ?? []).map((d) => ({\n    id: d.id as number,\n    email: d.email as string,\n    phone: d.phone as string | undefined,\n    nickname: (d.nickname as string) ?? '',\n    avatar: d.avatar as string | undefined,\n    role: d.role as UserDetail['role'],\n    status: d.status as UserDetail['status'],\n    created_at: (d.created_at as string) ?? '',\n    updated_at: (d.updated_at as string) ?? '',\n  }))\n  return { items: list, total: res.data.total ?? 0, page, size }\n}\n\n// 更新用户（管理端）\nexport async function updateUser(\n  id: number,\n  data: { role?: string; status?: string }\n): Promise<void> {\n  await request.patch(`/admin/users/${id}`, data)\n}\n\n// 操作日志\nexport async function getAdminLogs(params?: {\n  page?: number\n  size?: number\n}): Promise<PageResponse<AdminLog>> {\n  const page = params?.page ?? 1\n  const size = params?.size ?? 20\n  const res = await request.get<{ list: AdminLog[]; total: number }>('/admin/logs', {\n    params: { page, size },\n  })\n  return {\n    items: res.data.list ?? [],\n    total: res.data.total ?? 0,\n    page,\n    size,\n  }\n}\n\n// 内容标记列表\nexport async function getContentFlags(params?: {\n  page?: number\n  size?: number\n}): Promise<PageResponse<ContentFlag>> {\n  const page = params?.page ?? 1\n  const size = params?.size ?? 10\n  const res = await request.get<{ list: ContentFlag[]; total: number }>('/admin/flags', {\n    params: { page, size },\n  })\n  return {\n    items: res.data.list ?? [],\n    total: res.data.total ?? 0,\n    page,\n    size,\n  }\n}\n\n// 更新内容标记状态\nexport async function updateContentFlag(id: number, status: 'open' | 'resolved'): Promise<void> {\n  await request.patch(`/admin/flags/${id}`, { status })\n}\n","<template>\n  <div class=\"admin-page\">\n    <div class=\"admin-container\">\n      <el-row :gutter=\"20\">\n        <el-col :span=\"4\">\n          <el-menu :default-active=\"activeMenu\" class=\"admin-menu\" @select=\"handleMenuSelect\">\n            <el-menu-item index=\"dashboard\">\n              <el-icon><DataBoard /></el-icon>\n              <span>数据看板</span>\n            </el-menu-item>\n            <el-menu-item index=\"users\">\n              <el-icon><User /></el-icon>\n              <span>用户管理</span>\n            </el-menu-item>\n            <el-menu-item index=\"content\">\n              <el-icon><Document /></el-icon>\n              <span>内容管理</span>\n            </el-menu-item>\n            <el-menu-item index=\"logs\">\n              <el-icon><List /></el-icon>\n              <span>操作日志</span>\n            </el-menu-item>\n          </el-menu>\n        </el-col>\n        <el-col :span=\"20\">\n          <!-- 数据看板 -->\n          <div v-if=\"activeMenu === 'dashboard'\" class=\"dashboard-content\">\n            <h2>数据看板</h2>\n            <el-row :gutter=\"20\" class=\"metrics-row\">\n              <el-col :span=\"6\">\n                <el-card shadow=\"hover\">\n                  <div class=\"metric-item\">\n                    <div class=\"metric-value\">{{ metrics.user_count }}</div>\n                    <div class=\"metric-label\">总用户数</div>\n                  </div>\n                </el-card>\n              </el-col>\n              <el-col :span=\"6\">\n                <el-card shadow=\"hover\">\n                  <div class=\"metric-item\">\n                    <div class=\"metric-value\">{{ metrics.active_users }}</div>\n                    <div class=\"metric-label\">活跃用户</div>\n                  </div>\n                </el-card>\n              </el-col>\n              <el-col :span=\"6\">\n                <el-card shadow=\"hover\">\n                  <div class=\"metric-item\">\n                    <div class=\"metric-value\">{{ metrics.essay_count }}</div>\n                    <div class=\"metric-label\">作文提交量</div>\n                  </div>\n                </el-card>\n              </el-col>\n              <el-col :span=\"6\">\n                <el-card shadow=\"hover\">\n                  <div class=\"metric-item\">\n                    <div class=\"metric-value\">{{ metrics.token_usage.total }}</div>\n                    <div class=\"metric-label\">Token使用总量</div>\n                  </div>\n                </el-card>\n              </el-col>\n            </el-row>\n            <el-card shadow=\"never\" class=\"token-card\">\n              <h3>Token使用情况</h3>\n              <el-descriptions :column=\"3\" border>\n                <el-descriptions-item label=\"今日使用\">\n                  {{ metrics.token_usage.today }}\n                </el-descriptions-item>\n                <el-descriptions-item label=\"本月使用\">\n                  {{ metrics.token_usage.this_month }}\n                </el-descriptions-item>\n                <el-descriptions-item label=\"总使用量\">\n                  {{ metrics.token_usage.total }}\n                </el-descriptions-item>\n              </el-descriptions>\n            </el-card>\n          </div>\n\n          <!-- 用户管理 -->\n          <div v-if=\"activeMenu === 'users'\" class=\"users-content\">\n            <h2>用户管理</h2>\n            <el-card shadow=\"never\">\n              <div class=\"search-bar\">\n                <el-input\n                  v-model=\"userSearchQuery\"\n                  placeholder=\"搜索用户...\"\n                  style=\"width: 300px\"\n                  clearable\n                  @keyup.enter=\"fetchUsers\"\n                >\n                  <template #prefix>\n                    <el-icon><Search /></el-icon>\n                  </template>\n                </el-input>\n                <el-select\n                  v-model=\"userRoleFilter\"\n                  placeholder=\"角色\"\n                  style=\"width: 120px\"\n                  clearable\n                >\n                  <el-option label=\"学生\" value=\"student\" />\n                  <el-option label=\"管理员\" value=\"admin\" />\n                </el-select>\n                <el-select\n                  v-model=\"userStatusFilter\"\n                  placeholder=\"状态\"\n                  style=\"width: 120px\"\n                  clearable\n                >\n                  <el-option label=\"活跃\" value=\"active\" />\n                  <el-option label=\"禁用\" value=\"disabled\" />\n                </el-select>\n                <el-button type=\"primary\" @click=\"fetchUsers\">搜索</el-button>\n              </div>\n              <el-table\n                v-loading=\"usersLoading\"\n                :data=\"users\"\n                style=\"width: 100%; margin-top: 20px\"\n              >\n                <el-table-column prop=\"id\" label=\"ID\" width=\"80\" />\n                <el-table-column prop=\"nickname\" label=\"昵称\" />\n                <el-table-column prop=\"email\" label=\"邮箱\" />\n                <el-table-column prop=\"role\" label=\"角色\" width=\"100\">\n                  <template #default=\"{ row }\">\n                    <el-tag :type=\"row.role === 'admin' ? 'danger' : 'primary'\">\n                      {{ row.role === 'admin' ? '管理员' : '学生' }}\n                    </el-tag>\n                  </template>\n                </el-table-column>\n                <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\n                  <template #default=\"{ row }\">\n                    <el-tag :type=\"row.status === 'active' ? 'success' : 'info'\">\n                      {{ row.status === 'active' ? '活跃' : '禁用' }}\n                    </el-tag>\n                  </template>\n                </el-table-column>\n                <el-table-column label=\"操作\" width=\"200\">\n                  <template #default=\"{ row }\">\n                    <el-button type=\"primary\" text @click=\"handleEditUser(row)\">编辑</el-button>\n                    <el-button\n                      :type=\"row.status === 'active' ? 'warning' : 'success'\"\n                      text\n                      @click=\"handleToggleUserStatus(row)\"\n                    >\n                      {{ row.status === 'active' ? '禁用' : '启用' }}\n                    </el-button>\n                  </template>\n                </el-table-column>\n              </el-table>\n              <el-pagination\n                v-model:current-page=\"userPage\"\n                v-model:page-size=\"userPageSize\"\n                :total=\"userTotal\"\n                layout=\"total, prev, pager, next\"\n                style=\"margin-top: 20px\"\n                @current-change=\"fetchUsers\"\n              />\n            </el-card>\n          </div>\n\n          <!-- 内容管理 -->\n          <div v-if=\"activeMenu === 'content'\" class=\"content-content\">\n            <h2>内容管理</h2>\n            <el-card shadow=\"never\">\n              <el-table v-loading=\"flagsLoading\" :data=\"flags\" style=\"width: 100%\">\n                <el-table-column prop=\"id\" label=\"ID\" width=\"80\" />\n                <el-table-column prop=\"target_type\" label=\"类型\" width=\"120\" />\n                <el-table-column prop=\"target_id\" label=\"目标ID\" width=\"100\" />\n                <el-table-column prop=\"reason\" label=\"原因\" />\n                <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\n                  <template #default=\"{ row }\">\n                    <el-tag :type=\"row.status === 'resolved' ? 'success' : 'warning'\">\n                      {{ row.status === 'resolved' ? '已处理' : '待处理' }}\n                    </el-tag>\n                  </template>\n                </el-table-column>\n                <el-table-column label=\"操作\" width=\"150\">\n                  <template #default=\"{ row }\">\n                    <el-button\n                      v-if=\"row.status === 'open'\"\n                      type=\"success\"\n                      text\n                      @click=\"handleResolveFlag(row)\"\n                    >\n                      标记已处理\n                    </el-button>\n                  </template>\n                </el-table-column>\n              </el-table>\n            </el-card>\n          </div>\n\n          <!-- 操作日志 -->\n          <div v-if=\"activeMenu === 'logs'\" class=\"logs-content\">\n            <h2>操作日志</h2>\n            <el-card shadow=\"never\">\n              <el-table v-loading=\"logsLoading\" :data=\"logs\" style=\"width: 100%\">\n                <el-table-column prop=\"id\" label=\"ID\" width=\"80\" />\n                <el-table-column prop=\"action\" label=\"操作\" />\n                <el-table-column prop=\"target_type\" label=\"目标类型\" width=\"120\" />\n                <el-table-column prop=\"target_id\" label=\"目标ID\" width=\"100\" />\n                <el-table-column prop=\"ip\" label=\"IP\" width=\"150\" />\n                <el-table-column prop=\"created_at\" label=\"时间\" width=\"180\">\n                  <template #default=\"{ row }\">\n                    {{ new Date(row.created_at).toLocaleString() }}\n                  </template>\n                </el-table-column>\n              </el-table>\n            </el-card>\n          </div>\n        </el-col>\n      </el-row>\n    </div>\n\n    <!-- 编辑用户对话框 -->\n    <el-dialog v-model=\"showUserDialog\" title=\"编辑用户\" width=\"500px\">\n      <el-form :model=\"editUserForm\" label-width=\"100px\">\n        <el-form-item label=\"角色\">\n          <el-select v-model=\"editUserForm.role\">\n            <el-option label=\"学生\" value=\"student\" />\n            <el-option label=\"管理员\" value=\"admin\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"状态\">\n          <el-select v-model=\"editUserForm.status\">\n            <el-option label=\"活跃\" value=\"active\" />\n            <el-option label=\"禁用\" value=\"disabled\" />\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <el-button @click=\"showUserDialog = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"handleSaveUser\">保存</el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted } from 'vue'\nimport * as adminApi from '@/api/admin'\nimport { ElMessage } from 'element-plus'\nimport { DataBoard, User, Document, List, Search } from '@element-plus/icons-vue'\nimport type { AdminMetrics, AdminLog, ContentFlag } from '@/types/admin'\nimport type { UserDetail } from '@/types/user'\n\nconst activeMenu = ref('dashboard')\n\nconst metrics = ref<AdminMetrics>({\n  user_count: 0,\n  active_users: 0,\n  essay_count: 0,\n  token_usage: { total: 0, today: 0, this_month: 0 },\n})\n\nconst users = ref<UserDetail[]>([])\nconst usersLoading = ref(false)\nconst userSearchQuery = ref('')\nconst userRoleFilter = ref('')\nconst userStatusFilter = ref('')\nconst userPage = ref(1)\nconst userPageSize = ref(10)\nconst userTotal = ref(0)\n\nconst flags = ref<ContentFlag[]>([])\nconst flagsLoading = ref(false)\n\nconst logs = ref<AdminLog[]>([])\nconst logsLoading = ref(false)\n\nconst showUserDialog = ref(false)\nconst editUserForm = ref({ role: '', status: '' })\nconst currentEditUserId = ref<number | null>(null)\n\nonMounted(async () => {\n  await fetchMetrics()\n  await fetchUsers()\n  await fetchFlags()\n  await fetchLogs()\n})\n\nasync function fetchMetrics() {\n  try {\n    metrics.value = await adminApi.getMetrics()\n  } catch (error: unknown) {\n    ElMessage.error((error as Error).message || '获取数据失败')\n  }\n}\n\nasync function fetchUsers() {\n  usersLoading.value = true\n  try {\n    const response = await adminApi.getUserList({\n      q: userSearchQuery.value,\n      role: userRoleFilter.value,\n      status: userStatusFilter.value,\n      page: userPage.value,\n      size: userPageSize.value,\n    })\n    users.value = response.items\n    userTotal.value = response.total\n  } catch (error: unknown) {\n    ElMessage.error((error as Error).message || '获取用户列表失败')\n  } finally {\n    usersLoading.value = false\n  }\n}\n\nasync function fetchFlags() {\n  flagsLoading.value = true\n  try {\n    const response = await adminApi.getContentFlags({})\n    flags.value = response.items\n  } catch (error: unknown) {\n    ElMessage.error((error as Error).message || '获取内容标记失败')\n  } finally {\n    flagsLoading.value = false\n  }\n}\n\nasync function fetchLogs() {\n  logsLoading.value = true\n  try {\n    const response = await adminApi.getAdminLogs({})\n    logs.value = response.items\n  } catch (error: unknown) {\n    ElMessage.error((error as Error).message || '获取日志失败')\n  } finally {\n    logsLoading.value = false\n  }\n}\n\nfunction handleMenuSelect(key: string) {\n  activeMenu.value = key\n}\n\nfunction handleEditUser(user: UserDetail) {\n  currentEditUserId.value = user.id\n  editUserForm.value = {\n    role: user.role,\n    status: user.status,\n  }\n  showUserDialog.value = true\n}\n\nasync function handleSaveUser() {\n  if (!currentEditUserId.value) return\n  try {\n    await adminApi.updateUser(currentEditUserId.value, editUserForm.value)\n    ElMessage.success('更新成功')\n    showUserDialog.value = false\n    await fetchUsers()\n  } catch (error: unknown) {\n    ElMessage.error((error as Error).message || '更新失败')\n  }\n}\n\nasync function handleToggleUserStatus(user: UserDetail) {\n  try {\n    await adminApi.updateUser(user.id, {\n      status: user.status === 'active' ? 'disabled' : 'active',\n    })\n    ElMessage.success('操作成功')\n    await fetchUsers()\n  } catch (error: unknown) {\n    ElMessage.error((error as Error).message || '操作失败')\n  }\n}\n\nasync function handleResolveFlag(flag: ContentFlag) {\n  try {\n    await adminApi.updateContentFlag(flag.id, 'resolved')\n    ElMessage.success('标记已处理')\n    await fetchFlags()\n  } catch (error: unknown) {\n    ElMessage.error((error as Error).message || '操作失败')\n  }\n}\n</script>\n\n<style scoped>\n.admin-page {\n  min-height: calc(100vh - 64px - 80px);\n  padding: var(--spacing-lg) 0;\n}\n\n.admin-container {\n  max-width: 1400px;\n  margin: 0 auto;\n  padding: 0 var(--spacing-md);\n}\n\n.admin-menu {\n  height: calc(100vh - 200px);\n  border-radius: var(--border-radius-base);\n}\n\n.dashboard-content h2,\n.users-content h2,\n.content-content h2,\n.logs-content h2 {\n  margin-bottom: var(--spacing-lg);\n  font-size: var(--font-size-xl);\n  font-weight: 600;\n}\n\n.metrics-row {\n  margin-bottom: var(--spacing-lg);\n}\n\n.metric-item {\n  text-align: center;\n  padding: var(--spacing-md);\n}\n\n.metric-value {\n  font-size: 32px;\n  font-weight: 600;\n  color: var(--color-primary);\n  margin-bottom: var(--spacing-xs);\n}\n\n.metric-label {\n  font-size: var(--font-size-sm);\n  color: var(--color-text-secondary);\n}\n\n.token-card {\n  margin-top: var(--spacing-lg);\n}\n\n.search-bar {\n  display: flex;\n  gap: var(--spacing-sm);\n  margin-bottom: var(--spacing-md);\n}\n</style>\n"],"names":["getMetrics","request","getUserList","params","page","size","res","d","updateUser","id","data","getAdminLogs","getContentFlags","updateContentFlag","status","activeMenu","ref","metrics","users","usersLoading","userSearchQuery","userRoleFilter","userStatusFilter","userPage","userPageSize","userTotal","flags","flagsLoading","logs","logsLoading","showUserDialog","editUserForm","currentEditUserId","onMounted","fetchMetrics","fetchUsers","fetchFlags","fetchLogs","adminApi.getMetrics","error","ElMessage","response","adminApi.getUserList","adminApi.getContentFlags","adminApi.getAdminLogs","handleMenuSelect","key","handleEditUser","user","handleSaveUser","adminApi.updateUser","handleToggleUserStatus","handleResolveFlag","flag","adminApi.updateContentFlag","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_el_row","_component_el_col","_component_el_menu","_component_el_menu_item","_component_el_icon","_unref","DataBoard","_cache","User","Document","List","_hoisted_3","_component_el_card","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_component_el_descriptions","_component_el_descriptions_item","_hoisted_12","_hoisted_13","_component_el_input","$event","Search","_component_el_select","_component_el_option","_component_el_button","_createBlock","_component_el_table","_component_el_table_column","_withCtx","row","_component_el_tag","_createTextVNode","_component_el_pagination","_hoisted_14","_hoisted_15","_component_el_dialog","_component_el_form","_component_el_form_item"],"mappings":"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"}