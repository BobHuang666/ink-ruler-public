import{d as z,u as R,l as f,m as B,c as E,a as s,e as o,w as l,r as t,n as L,f as v,p as M,q as N,s as S,g as i,E as w,t as U,v as K,o as $,_ as A}from"./index-DYibA2ZD.js";const I={class:"login-page"},T={class:"login-container"},j={class:"form-actions"},D={class:"demo-tip"},F=z({__name:"Login",setup(G){const y=K(),b=U(),k=R(),d=f(),u=f(!1),c=f(!1),n=B({emailOrPhone:"",password:""}),V={emailOrPhone:[{required:!0,message:"请输入邮箱或手机号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]};async function m(){d.value&&await d.value.validate(async p=>{if(p){u.value=!0;try{await k.login(n.emailOrPhone,n.password),w.success("登录成功");const e=b.query.redirect||"/";y.push(e)}catch(e){w.error(e.message||"登录失败")}finally{u.value=!1}}})}return(p,e)=>{const _=t("el-input"),r=t("el-form-item"),x=t("el-checkbox"),h=t("el-link"),g=t("el-button"),O=t("el-divider"),P=t("el-form"),C=t("el-alert"),q=t("el-card");return $(),E("div",I,[s("div",T,[o(q,{class:"login-card",shadow:"always"},{header:l(()=>[...e[4]||(e[4]=[s("div",{class:"card-header"},[s("h2",null,"登录"),s("p",{class:"subtitle"},"欢迎回来")],-1)])]),default:l(()=>[o(P,{ref_key:"formRef",ref:d,model:n,rules:V,"label-width":"0",onSubmit:L(m,["prevent"])},{default:l(()=>[o(r,{prop:"emailOrPhone"},{default:l(()=>[o(_,{modelValue:n.emailOrPhone,"onUpdate:modelValue":e[0]||(e[0]=a=>n.emailOrPhone=a),placeholder:"邮箱或手机号",size:"large","prefix-icon":v(M)},null,8,["modelValue","prefix-icon"])]),_:1}),o(r,{prop:"password"},{default:l(()=>[o(_,{modelValue:n.password,"onUpdate:modelValue":e[1]||(e[1]=a=>n.password=a),type:"password",placeholder:"密码",size:"large","prefix-icon":v(S),"show-password":"",onKeyup:N(m,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),o(r,null,{default:l(()=>[s("div",j,[o(x,{modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=a=>c.value=a)},{default:l(()=>[...e[5]||(e[5]=[i("记住我",-1)])]),_:1},8,["modelValue"]),o(h,{type:"primary",underline:!1},{default:l(()=>[...e[6]||(e[6]=[i("忘记密码？",-1)])]),_:1})])]),_:1}),o(r,null,{default:l(()=>[o(g,{type:"primary",size:"large",loading:u.value,class:"login-button",onClick:m},{default:l(()=>[...e[7]||(e[7]=[i(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1}),o(O,null,{default:l(()=>[...e[8]||(e[8]=[i("或",-1)])]),_:1}),o(r,null,{default:l(()=>[o(g,{size:"large",class:"register-button",onClick:e[3]||(e[3]=a=>p.$router.push("/register"))},{default:l(()=>[...e[9]||(e[9]=[i(" 注册账号 ",-1)])]),_:1})]),_:1})]),_:1},8,["model"]),s("div",D,[o(C,{title:"演示账号",type:"info",closable:!1,"show-icon":""},{default:l(()=>[...e[10]||(e[10]=[s("p",null,"管理员：admin@ink.com / 666666",-1),s("p",null,"学生：student@ink.com / 666666",-1)])]),_:1})])]),_:1})])])}}}),J=A(F,[["__scopeId","data-v-ddc82610"]]);export{J as default};
//# sourceMappingURL=Login-BTyAHcLW.js.map
