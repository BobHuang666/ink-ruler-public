{"version":3,"file":"Profile-C3M3Qw3m.js","sources":["../../src/api/feedback.ts","../../src/views/user/Profile.vue"],"sourcesContent":["import request from '@/utils/request'\n\n// 提交反馈（可未登录）\nexport async function createFeedback(data: {\n  content: string\n  contact?: string\n}): Promise<{ id: number }> {\n  const res = await request.post<{ id: number }>('/feedbacks', data)\n  return res.data\n}\n","<template>\n  <div class=\"profile-page\">\n    <div class=\"container\">\n      <el-row :gutter=\"20\">\n        <el-col :xs=\"24\" :sm=\"6\">\n          <el-card shadow=\"never\" class=\"profile-card\">\n            <div class=\"avatar-section\">\n              <el-avatar :size=\"88\" :src=\"form.avatar\" class=\"avatar-section__avatar\">\n                {{ form.nickname?.[0] }}\n              </el-avatar>\n              <h3 class=\"avatar-section__name header-font\">{{ form.nickname }}</h3>\n              <p class=\"avatar-section__email\">{{ form.email }}</p>\n              <div class=\"avatar-section__role\">\n                <el-tag v-if=\"authStore.isMember\" type=\"success\" size=\"small\">会员</el-tag>\n                <el-tag v-else type=\"info\" size=\"small\">普通用户</el-tag>\n              </div>\n              <div class=\"avatar-section__meta\">\n                <span class=\"ink-drops\">墨滴：{{ authStore.user?.ink_drops ?? 0 }}</span>\n              </div>\n              <div class=\"avatar-section__actions\">\n                <el-button\n                  :type=\"hasCheckedInToday ? 'default' : 'primary'\"\n                  :plain=\"hasCheckedInToday\"\n                  size=\"default\"\n                  :class=\"[\n                    'avatar-section__checkin-btn',\n                    { 'avatar-section__checkin-btn--done': hasCheckedInToday },\n                  ]\"\n                  @click=\"checkinDialogVisible = true\"\n                >\n                  {{ hasCheckedInToday ? '已签到' : '签到' }}\n                </el-button>\n              </div>\n            </div>\n          </el-card>\n          <el-dialog\n            v-model=\"checkinDialogVisible\"\n            title=\"每日签到\"\n            width=\"400px\"\n            class=\"app-dialog checkin-dialog-wrap\"\n            align-center\n            destroy-on-close\n            @close=\"onCheckinDialogClose\"\n          >\n            <div class=\"checkin-dialog\">\n              <p class=\"checkin-week-tip\">本周累计签到 {{ checkinWeekCount }} 天</p>\n              <div class=\"checkin-ink-block\">\n                <span class=\"checkin-ink-icon\" aria-hidden=\"true\">\n                  <svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path\n                      d=\"M12 2.5c0 0-5 8-5 13a5 5 0 0 0 10 0c0-5-5-13-5-13z\"\n                      fill=\"currentColor\"\n                    />\n                  </svg>\n                </span>\n                <span class=\"checkin-ink-label\">墨滴：</span>\n                <span class=\"checkin-ink-value\">{{ currentInkDrops }}</span>\n                <el-link\n                  type=\"primary\"\n                  underline=\"hover\"\n                  class=\"checkin-ink-detail\"\n                  @click=\"goToInkLog\"\n                  >明细 &gt;</el-link\n                >\n              </div>\n\n              <template v-if=\"checkinResult === null\">\n                <div class=\"checkin-grid\">\n                  <div\n                    v-for=\"(reward, i) in checkinDayRewards\"\n                    :key=\"i\"\n                    class=\"checkin-grid-card\"\n                    :class=\"{\n                      'is-current': i === checkinCurrentDayIndex,\n                      'is-signed': i < checkinWeekCount,\n                    }\"\n                  >\n                    <span class=\"checkin-card-day\">{{ i + 1 }}天</span>\n                    <span class=\"checkin-card-star\" aria-hidden=\"true\">\n                      <svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path\n                          d=\"M12 2.5c0 0-5 8-5 13a5 5 0 0 0 10 0c0-5-5-13-5-13z\"\n                          fill=\"currentColor\"\n                        />\n                      </svg>\n                    </span>\n                    <span class=\"checkin-card-reward\">{{ reward }} 墨滴</span>\n                    <span class=\"checkin-card-vip\">VIP+5</span>\n                    <span v-if=\"i < checkinWeekCount\" class=\"checkin-card-done\">✓</span>\n                  </div>\n                </div>\n                <el-button\n                  v-if=\"hasCheckedInToday\"\n                  class=\"checkin-btn-done checkin-btn-done-inline\"\n                  @click=\"checkinDialogVisible = false\"\n                >\n                  今日已签到\n                </el-button>\n                <el-button\n                  v-else\n                  class=\"checkin-btn-submit\"\n                  :loading=\"checkinLoading\"\n                  @click=\"handleCheckin\"\n                >\n                  立即签到\n                </el-button>\n              </template>\n\n              <template v-else>\n                <div class=\"checkin-result-area\">\n                  <div class=\"checkin-result-star-wrap\">\n                    <span class=\"checkin-result-star\" aria-hidden=\"true\">\n                      <svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path\n                          d=\"M12 2.5c0 0-5 8-5 13a5 5 0 0 0 10 0c0-5-5-13-5-13z\"\n                          fill=\"currentColor\"\n                        />\n                      </svg>\n                    </span>\n                  </div>\n                  <p class=\"checkin-result-reward\">+{{ checkinResult.reward }} 墨滴</p>\n                  <p class=\"checkin-result-msg\">恭喜获得今日签到奖励！</p>\n                </div>\n                <el-button class=\"checkin-btn-done\" @click=\"checkinDialogVisible = false\"\n                  >今日已签到</el-button\n                >\n              </template>\n            </div>\n          </el-dialog>\n        </el-col>\n        <el-col :xs=\"24\" :sm=\"18\">\n          <el-tabs v-model=\"activeTab\" class=\"profile-tabs\">\n            <el-tab-pane label=\"个人信息\" name=\"info\">\n              <el-card shadow=\"never\">\n                <el-form\n                  :model=\"form\"\n                  :rules=\"rules\"\n                  ref=\"formRef\"\n                  class=\"profile-form\"\n                  label-width=\"100px\"\n                >\n                  <el-form-item label=\"昵称\" prop=\"nickname\">\n                    <el-input v-model=\"form.nickname\" />\n                  </el-form-item>\n                  <el-form-item label=\"邮箱\">\n                    <el-input v-model=\"form.email\" disabled />\n                  </el-form-item>\n                  <el-form-item label=\"手机号\">\n                    <el-input v-model=\"form.phone\" disabled />\n                  </el-form-item>\n                  <el-form-item>\n                    <el-button type=\"primary\" @click=\"handleUpdateInfo\">保存</el-button>\n                  </el-form-item>\n                </el-form>\n              </el-card>\n            </el-tab-pane>\n\n            <el-tab-pane label=\"修改密码\" name=\"password\">\n              <el-card shadow=\"never\">\n                <p v-if=\"passwordMaskedEmail\" class=\"password-email-hint\">\n                  将向您的邮箱 {{ passwordMaskedEmail }} 发送验证码\n                </p>\n                <el-form\n                  :model=\"passwordForm\"\n                  :rules=\"passwordRules\"\n                  ref=\"passwordFormRef\"\n                  class=\"profile-form\"\n                  label-width=\"100px\"\n                >\n                  <el-form-item label=\"验证码\" required>\n                    <div class=\"password-code-row\">\n                      <el-input\n                        v-model=\"passwordForm.email_code\"\n                        placeholder=\"邮箱验证码（4位）\"\n                        maxlength=\"4\"\n                        class=\"password-code-input\"\n                      />\n                      <el-button\n                        type=\"primary\"\n                        :disabled=\"passwordCountdown > 0\"\n                        :loading=\"passwordSendingCode\"\n                        @click=\"handleSendPasswordCode\"\n                      >\n                        {{ passwordCountdown > 0 ? `${passwordCountdown}s 后重试` : '获取验证码' }}\n                      </el-button>\n                    </div>\n                  </el-form-item>\n                  <el-form-item label=\"原密码\" prop=\"oldPassword\">\n                    <el-input v-model=\"passwordForm.oldPassword\" type=\"password\" show-password />\n                  </el-form-item>\n                  <el-form-item label=\"新密码\" prop=\"newPassword\">\n                    <el-input v-model=\"passwordForm.newPassword\" type=\"password\" show-password />\n                  </el-form-item>\n                  <el-form-item label=\"确认密码\" prop=\"confirmPassword\">\n                    <el-input\n                      v-model=\"passwordForm.confirmPassword\"\n                      type=\"password\"\n                      show-password\n                    />\n                  </el-form-item>\n                  <el-form-item>\n                    <el-button type=\"primary\" @click=\"handleUpdatePassword\">修改密码</el-button>\n                  </el-form-item>\n                </el-form>\n              </el-card>\n            </el-tab-pane>\n\n            <el-tab-pane label=\"反馈建议\" name=\"feedback\">\n              <el-card shadow=\"never\">\n                <el-form :model=\"feedbackForm\" class=\"profile-form\" label-width=\"100px\">\n                  <el-form-item label=\"反馈内容\">\n                    <el-input\n                      v-model=\"feedbackForm.content\"\n                      type=\"textarea\"\n                      :rows=\"6\"\n                      placeholder=\"请输入您的反馈或建议...\"\n                    />\n                  </el-form-item>\n                  <el-form-item label=\"联系方式\">\n                    <el-input v-model=\"feedbackForm.contact\" placeholder=\"邮箱或手机号（可选）\" />\n                  </el-form-item>\n                  <el-form-item>\n                    <el-button type=\"primary\" @click=\"handleSubmitFeedback\">提交反馈</el-button>\n                  </el-form-item>\n                </el-form>\n              </el-card>\n            </el-tab-pane>\n\n            <el-tab-pane label=\"账号安全\" name=\"security\">\n              <el-card shadow=\"never\">\n                <div class=\"security-section\">\n                  <h4>注销账号</h4>\n                  <p class=\"security-desc\">注销后账号及关联数据将被删除且无法恢复，请谨慎操作。</p>\n                  <el-button type=\"danger\" plain @click=\"openCancelDialog\">申请注销账号</el-button>\n                </div>\n              </el-card>\n              <el-dialog\n                v-model=\"cancelDialogVisible\"\n                title=\"注销账号\"\n                width=\"400px\"\n                class=\"cancel-account-dialog app-dialog\"\n                :close-on-click-modal=\"false\"\n                @closed=\"onCancelDialogClosed\"\n              >\n                <el-alert\n                  class=\"tip-alert cancel-dialog-tip\"\n                  title=\"注销说明\"\n                  type=\"warning\"\n                  :closable=\"false\"\n                  show-icon\n                >\n                  注销后账号及关联数据将被删除且无法恢复，请谨慎操作。\n                </el-alert>\n                <p v-if=\"cancelMaskedEmail\" class=\"cancel-email-hint\">\n                  将向您的邮箱 {{ cancelMaskedEmail }} 发送验证码\n                </p>\n                <el-form\n                  :model=\"cancelForm\"\n                  label-width=\"80px\"\n                  @submit.prevent=\"handleCancelAccount\"\n                >\n                  <el-form-item label=\"验证码\" required>\n                    <div class=\"cancel-code-row\">\n                      <el-input\n                        v-model=\"cancelForm.email_code\"\n                        placeholder=\"邮箱验证码（4位）\"\n                        maxlength=\"4\"\n                        show-word-limit\n                        class=\"cancel-code-input\"\n                      />\n                      <el-button\n                        type=\"primary\"\n                        :disabled=\"cancelCountdown > 0\"\n                        :loading=\"cancelSendingCode\"\n                        @click=\"handleSendCancelCode\"\n                      >\n                        {{ cancelCountdown > 0 ? `${cancelCountdown}s 后重试` : '获取验证码' }}\n                      </el-button>\n                    </div>\n                  </el-form-item>\n                  <el-form-item label=\"当前密码\" required>\n                    <el-input\n                      v-model=\"cancelForm.password\"\n                      type=\"password\"\n                      show-password\n                      placeholder=\"请输入当前密码以确认\"\n                      @keyup.enter=\"handleCancelAccount\"\n                    />\n                  </el-form-item>\n                </el-form>\n                <template #footer>\n                  <el-button @click=\"cancelDialogVisible = false\">取消</el-button>\n                  <el-button type=\"danger\" :loading=\"cancelLoading\" @click=\"handleCancelAccount\">\n                    确认注销\n                  </el-button>\n                </template>\n              </el-dialog>\n            </el-tab-pane>\n          </el-tabs>\n        </el-col>\n      </el-row>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, onMounted, watch, onUnmounted, computed } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { useAuthStore } from '@/stores/auth'\nimport { maskEmail } from '@/utils/format'\nimport * as userApi from '@/api/user'\nimport * as feedbackApi from '@/api/feedback'\nimport { ElMessage, type FormInstance, type FormRules } from 'element-plus'\nimport type { CheckinResult } from '@/types/user'\n\nconst router = useRouter()\nconst route = useRoute()\nconst authStore = useAuthStore()\n\nconst activeTab = ref('info')\nconst formRef = ref<FormInstance>()\nconst passwordFormRef = ref<FormInstance>()\n\nconst form = reactive({\n  nickname: '',\n  email: '',\n  phone: '',\n  avatar: '',\n})\n\nconst passwordForm = reactive({\n  email_code: '',\n  oldPassword: '',\n  newPassword: '',\n  confirmPassword: '',\n})\n\nconst passwordMaskedEmail = computed(() =>\n  authStore.user?.email ? maskEmail(authStore.user.email) : ''\n)\nconst cancelMaskedEmail = computed(() =>\n  authStore.user?.email ? maskEmail(authStore.user.email) : ''\n)\n\nconst passwordSendingCode = ref(false)\nconst passwordCountdown = ref(0)\nlet passwordCountdownTimer: ReturnType<typeof setInterval> | null = null\n\nconst feedbackForm = reactive({\n  content: '',\n  contact: '',\n})\n\nconst cancelDialogVisible = ref(false)\nconst cancelLoading = ref(false)\nconst cancelSendingCode = ref(false)\nconst cancelCountdown = ref(0)\nlet cancelCountdownTimer: ReturnType<typeof setInterval> | null = null\nconst cancelForm = reactive({ password: '', email_code: '' })\n\nconst checkinDialogVisible = ref(false)\nconst checkinResult = ref<CheckinResult | null>(null)\nconst checkinLoading = ref(false)\n/** 用于弹窗关闭后再次打开时显示「本周累计签到 X 天」 */\nconst lastCheckinWeekCount = ref(0)\n/** 本会话内今日已签到（用于左侧按钮显示「已签到」浅色） */\nconst hasCheckedInToday = ref(false)\n\nconst checkinDayRewards = [10, 10, 10, 10, 10, 20, 20]\nconst checkinWeekCount = computed(() =>\n  checkinResult.value ? checkinResult.value.week_count : lastCheckinWeekCount.value\n)\n/** 高亮格子：已签到时为「今天」（已签那天），未签到时为「待签那天」 */\nconst checkinCurrentDayIndex = computed(() =>\n  hasCheckedInToday.value ? Math.max(0, lastCheckinWeekCount.value - 1) : lastCheckinWeekCount.value\n)\nconst currentInkDrops = computed(\n  () => checkinResult.value?.ink_drops ?? authStore.user?.ink_drops ?? 0\n)\n\nfunction goToInkLog() {\n  checkinDialogVisible.value = false\n  router.push('/membership?tab=inkLog')\n}\n\nfunction onCheckinDialogClose() {\n  if (checkinResult.value) {\n    lastCheckinWeekCount.value = checkinResult.value.week_count\n    if (checkinResult.value.already_signed) hasCheckedInToday.value = true\n  }\n  checkinResult.value = null\n}\n\nconst rules: FormRules = {\n  nickname: [\n    { required: true, message: '请输入昵称', trigger: 'blur' },\n    { min: 2, max: 20, message: '昵称长度在2到20个字符', trigger: 'blur' },\n  ],\n}\n\nconst validateConfirmPassword = (\n  _rule: unknown,\n  value: string,\n  callback: (error?: Error) => void\n) => {\n  if (value !== passwordForm.newPassword) {\n    callback(new Error('两次输入的密码不一致'))\n  } else {\n    callback()\n  }\n}\n\nconst passwordRules: FormRules = {\n  oldPassword: [{ required: true, message: '请输入原密码', trigger: 'blur' }],\n  newPassword: [\n    { required: true, message: '请输入新密码', trigger: 'blur' },\n    { min: 6, message: '密码长度不能少于6位', trigger: 'blur' },\n  ],\n  confirmPassword: [\n    { required: true, message: '请确认密码', trigger: 'blur' },\n    { validator: validateConfirmPassword, trigger: 'blur' },\n  ],\n}\n\nasync function handleSendPasswordCode() {\n  if (passwordCountdown.value > 0) return\n  passwordSendingCode.value = true\n  try {\n    await userApi.sendEmailCodeForMe()\n    ElMessage.success(`验证码已发送至 ${passwordMaskedEmail.value}，请查收`)\n    passwordCountdown.value = 60\n    passwordCountdownTimer = setInterval(() => {\n      passwordCountdown.value--\n      if (passwordCountdown.value <= 0 && passwordCountdownTimer) {\n        clearInterval(passwordCountdownTimer)\n        passwordCountdownTimer = null\n      }\n    }, 1000)\n  } catch (error: unknown) {\n    ElMessage.error((error as Error).message || '发送失败')\n  } finally {\n    passwordSendingCode.value = false\n  }\n}\n\nonMounted(() => {\n  const tab = route.query.tab as string\n  if (tab && ['info', 'password', 'feedback', 'security'].includes(tab)) {\n    activeTab.value = tab\n  }\n  if (authStore.user) {\n    form.nickname = authStore.user.nickname\n    form.email = authStore.user.email || ''\n    form.phone = authStore.user.phone || ''\n    form.avatar = authStore.user.avatar || ''\n  }\n})\n\n// 签到状态以接口为准：用户信息更新时同步\nwatch(\n  () => authStore.user,\n  (u) => {\n    if (u) {\n      lastCheckinWeekCount.value = u.checkin_week_count ?? 0\n      hasCheckedInToday.value = u.checkin_today_done ?? false\n    }\n  },\n  { immediate: true }\n)\n\nasync function handleUpdateInfo() {\n  if (!formRef.value) return\n  await formRef.value.validate(async (valid) => {\n    if (valid) {\n      try {\n        await userApi.updateUser({ nickname: form.nickname })\n        await authStore.fetchUser()\n        ElMessage.success('更新成功')\n      } catch (error: unknown) {\n        ElMessage.error((error as Error).message || '更新失败')\n      }\n    }\n  })\n}\n\nasync function handleUpdatePassword() {\n  if (!passwordFormRef.value) return\n  if (!passwordForm.email_code.trim() || passwordForm.email_code.length !== 4) {\n    ElMessage.warning('请输入邮箱验证码（4位）')\n    return\n  }\n  await passwordFormRef.value.validate(async (valid) => {\n    if (valid) {\n      try {\n        await userApi.updateUser({\n          password_old: passwordForm.oldPassword,\n          password_new: passwordForm.newPassword,\n          email_code: passwordForm.email_code,\n        })\n        ElMessage.success('密码修改成功')\n        passwordForm.email_code = ''\n        passwordForm.oldPassword = ''\n        passwordForm.newPassword = ''\n        passwordForm.confirmPassword = ''\n      } catch (error: unknown) {\n        ElMessage.error((error as Error).message || '密码修改失败')\n      }\n    }\n  })\n}\n\nasync function handleCheckin() {\n  checkinLoading.value = true\n  try {\n    const result = await userApi.checkin()\n    const weekCount = Number(result?.week_count ?? 0)\n    checkinResult.value = { ...result, week_count: weekCount }\n    lastCheckinWeekCount.value = weekCount\n    hasCheckedInToday.value = true\n    await authStore.fetchUser()\n    if (!result.already_signed) {\n      ElMessage.success(`签到成功，获得 ${result.reward} 墨滴`)\n    }\n  } catch (error: unknown) {\n    ElMessage.error((error as Error).message || '签到失败')\n  } finally {\n    checkinLoading.value = false\n  }\n}\n\nasync function handleSubmitFeedback() {\n  if (!feedbackForm.content.trim()) {\n    ElMessage.warning('请输入反馈内容')\n    return\n  }\n  try {\n    await feedbackApi.createFeedback({\n      content: feedbackForm.content.trim(),\n      contact: feedbackForm.contact.trim() || undefined,\n    })\n    ElMessage.success('反馈提交成功，感谢您的建议！')\n    feedbackForm.content = ''\n    feedbackForm.contact = ''\n  } catch (error: unknown) {\n    ElMessage.error((error as Error).message || '提交失败')\n  }\n}\n\nfunction onCancelDialogClosed() {\n  cancelForm.password = ''\n  cancelForm.email_code = ''\n}\n\nfunction openCancelDialog() {\n  cancelForm.password = ''\n  cancelForm.email_code = ''\n  cancelDialogVisible.value = true\n}\n\nasync function handleSendCancelCode() {\n  if (cancelCountdown.value > 0) return\n  cancelSendingCode.value = true\n  try {\n    await userApi.sendEmailCodeForMe()\n    ElMessage.success(`验证码已发送至 ${cancelMaskedEmail.value}，请查收`)\n    cancelCountdown.value = 60\n    cancelCountdownTimer = setInterval(() => {\n      cancelCountdown.value--\n      if (cancelCountdown.value <= 0 && cancelCountdownTimer) {\n        clearInterval(cancelCountdownTimer)\n        cancelCountdownTimer = null\n      }\n    }, 1000)\n  } catch (error: unknown) {\n    ElMessage.error((error as Error).message || '发送失败')\n  } finally {\n    cancelSendingCode.value = false\n  }\n}\n\nonUnmounted(() => {\n  if (cancelCountdownTimer) clearInterval(cancelCountdownTimer)\n  if (passwordCountdownTimer) clearInterval(passwordCountdownTimer)\n})\n\nasync function handleCancelAccount() {\n  if (!cancelForm.password.trim()) {\n    ElMessage.warning('请输入当前密码')\n    return\n  }\n  if (!cancelForm.email_code.trim() || cancelForm.email_code.length !== 4) {\n    ElMessage.warning('请输入邮箱验证码（4位）')\n    return\n  }\n  cancelLoading.value = true\n  try {\n    await userApi.cancelAccount(cancelForm.password, cancelForm.email_code)\n    authStore.clearLocal()\n    cancelDialogVisible.value = false\n    ElMessage.success('账号已注销')\n    router.replace('/')\n  } catch (error: unknown) {\n    ElMessage.error((error as Error).message || '注销失败')\n  } finally {\n    cancelLoading.value = false\n  }\n}\n</script>\n\n<style scoped>\n.profile-page {\n  min-height: calc(100vh - var(--header-height) - 80px);\n  padding: var(--spacing-lg) 0;\n  background: transparent;\n}\n\n.container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 var(--spacing-md);\n}\n\n/* 标签栏仅支持横向滑动，无箭头、无滚动条 */\n.profile-tabs :deep(.el-tabs__nav-prev),\n.profile-tabs :deep(.el-tabs__nav-next) {\n  display: none;\n}\n.profile-tabs :deep(.el-tabs__nav-scroll) {\n  overflow-x: auto;\n  overflow-y: hidden;\n  -webkit-overflow-scrolling: touch;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n}\n.profile-tabs :deep(.el-tabs__nav-scroll)::-webkit-scrollbar {\n  display: none;\n}\n.profile-tabs :deep(.el-tabs__nav) {\n  flex-wrap: nowrap;\n  min-width: min-content;\n}\n.profile-tabs :deep(.el-tabs__item) {\n  white-space: nowrap;\n}\n.profile-tabs :deep(.el-tabs__header) {\n  margin-bottom: var(--spacing-md);\n}\n\n.profile-card {\n  text-align: center;\n}\n\n.avatar-section {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-lg) var(--spacing-md);\n}\n\n.avatar-section__avatar {\n  flex-shrink: 0;\n}\n\n.avatar-section__name {\n  margin: 0;\n  font-size: var(--font-size-lg);\n  font-weight: 600;\n  line-height: 1.3;\n  word-break: break-all;\n}\n\n.avatar-section__email {\n  margin: 0;\n  color: var(--color-text-secondary);\n  font-size: var(--font-size-sm);\n  line-height: 1.4;\n  word-break: break-all;\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.avatar-section__meta {\n  margin: 0;\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n  flex-wrap: wrap;\n  justify-content: center;\n}\n.avatar-section .ink-drops {\n  font-size: var(--font-size-sm);\n  color: var(--color-text-regular);\n}\n.avatar-section__actions {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  gap: var(--spacing-sm);\n  margin-top: var(--spacing-xs);\n}\n\n.avatar-section__checkin-btn {\n  min-width: 96px;\n  font-weight: 600;\n}\n.avatar-section__checkin-btn--done {\n  color: var(--color-primary);\n  border-color: rgba(217, 119, 6, 0.45);\n  background: rgba(217, 119, 6, 0.1);\n}\n.avatar-section__checkin-btn--done:hover {\n  color: var(--color-primary);\n  border-color: rgba(217, 119, 6, 0.45);\n  background: rgba(217, 119, 6, 0.16);\n}\n\n/* 每日签到弹窗（参考样式） */\n.checkin-dialog-wrap .el-dialog__body {\n  padding: 0 var(--spacing-md) var(--spacing-lg);\n}\n\n.checkin-dialog {\n  padding-top: var(--spacing-xs);\n}\n\n.checkin-week-tip {\n  margin: var(--spacing-md) 0 var(--spacing-sm);\n  padding: 0 var(--spacing-xs);\n  font-size: var(--font-size-sm);\n  color: var(--color-text-secondary);\n}\n\n.checkin-ink-block {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n  padding: var(--spacing-sm) var(--spacing-md);\n  margin-bottom: var(--spacing-md);\n  background: var(--border-color-extra-light);\n  border-radius: var(--border-radius-base);\n  box-shadow: var(--box-shadow-light);\n}\n\n.checkin-ink-icon {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--color-primary);\n  width: 20px;\n  height: 20px;\n  flex-shrink: 0;\n}\n.checkin-ink-icon svg {\n  width: 100%;\n  height: 100%;\n}\n\n.checkin-ink-label {\n  font-size: var(--font-size-sm);\n  color: var(--color-text-regular);\n}\n\n.checkin-ink-value {\n  flex: 1;\n  font-size: 20px;\n  font-weight: 700;\n  color: var(--color-primary);\n}\n\n.checkin-ink-detail {\n  font-size: var(--font-size-sm);\n}\n\n.checkin-grid {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: var(--spacing-sm);\n  margin-bottom: var(--spacing-lg);\n}\n\n.checkin-grid-card {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 2px;\n  padding: var(--spacing-sm);\n  background: var(--bg-color);\n  border: 1px solid var(--border-color-lighter);\n  border-radius: var(--border-radius-small);\n  font-size: var(--font-size-xs);\n  color: var(--color-text-regular);\n}\n\n.checkin-grid-card .checkin-card-day {\n  font-weight: 500;\n}\n\n.checkin-grid-card .checkin-card-star {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--color-primary);\n  width: 18px;\n  height: 18px;\n}\n.checkin-grid-card .checkin-card-star svg {\n  width: 100%;\n  height: 100%;\n}\n\n.checkin-grid-card .checkin-card-reward {\n  font-size: 11px;\n}\n\n.checkin-grid-card .checkin-card-vip {\n  font-size: 10px;\n  color: var(--color-text-secondary);\n}\n\n.checkin-grid-card.is-current .checkin-card-vip {\n  color: rgba(255, 255, 255, 0.9);\n}\n\n.checkin-grid-card.is-current {\n  background: linear-gradient(135deg, #fed7aa 0%, #fdba74 100%);\n  border-color: var(--color-primary);\n  color: #fff;\n}\n\n.checkin-grid-card.is-current .checkin-card-star {\n  color: #fff;\n}\n\n.checkin-grid-card.is-signed:not(.is-current) .checkin-card-done {\n  position: absolute;\n  top: 2px;\n  right: 4px;\n  color: var(--color-success);\n  font-size: 12px;\n  font-weight: bold;\n}\n\n.checkin-btn-submit {\n  width: 100%;\n  height: 44px;\n  font-weight: 600;\n  font-size: var(--font-size-base);\n  color: #fff;\n  border: none;\n  border-radius: 22px;\n  background: linear-gradient(90deg, var(--color-primary) 0%, var(--color-primary-light) 100%);\n}\n\n.checkin-btn-submit:hover {\n  opacity: 0.9;\n  color: #fff;\n}\n\n.checkin-result-area {\n  text-align: center;\n  margin-bottom: var(--spacing-lg);\n}\n\n.checkin-result-star-wrap {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 64px;\n  height: 64px;\n  margin-bottom: var(--spacing-sm);\n  background: rgba(217, 119, 6, 0.12);\n  border-radius: 50%;\n}\n\n.checkin-result-star {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  color: var(--color-primary);\n}\n.checkin-result-star svg {\n  width: 100%;\n  height: 100%;\n}\n\n.checkin-result-reward {\n  margin: 0 0 var(--spacing-xs);\n  font-size: 24px;\n  font-weight: 700;\n  color: var(--color-primary);\n}\n\n.checkin-result-msg {\n  margin: 0;\n  font-size: var(--font-size-sm);\n  color: var(--color-text-regular);\n}\n\n.checkin-btn-done {\n  width: 100%;\n  height: 44px;\n  font-weight: 600;\n  color: #fff;\n  border: none;\n  border-radius: 22px;\n  background: linear-gradient(90deg, var(--color-primary) 0%, #dc2626 100%);\n  opacity: 0.9;\n  cursor: default;\n}\n.checkin-btn-done:hover,\n.checkin-btn-done:focus {\n  color: #fff;\n  border: none;\n  background: linear-gradient(90deg, var(--color-primary) 0%, #dc2626 100%);\n  opacity: 0.9;\n}\n.checkin-btn-done-inline {\n  margin-top: 0;\n}\n\n.ink-exchange-section {\n  margin-top: var(--spacing-lg);\n  padding-top: var(--spacing-lg);\n  border-top: 1px solid var(--border-color-light, #ebeef5);\n  margin-bottom: var(--spacing-lg);\n}\n.ink-exchange-title {\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin: 0 0 var(--spacing-md);\n  color: var(--color-text-primary, #303133);\n}\n.ink-balance {\n  margin-bottom: var(--spacing-md);\n  font-weight: 500;\n}\n.ink-exchange-cards {\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: var(--spacing-md);\n}\n@media (min-width: 768px) {\n  .ink-exchange-cards {\n    grid-template-columns: repeat(3, 1fr);\n    align-items: stretch;\n  }\n}\n.ink-exchange-card {\n  display: flex;\n  flex-direction: column;\n  padding: var(--spacing-md);\n  border: 1px solid var(--border-color-light, #ebeef5);\n  border-radius: 10px;\n  background: var(--el-fill-color-blank, #fff);\n}\n@media (min-width: 768px) {\n  .ink-exchange-card {\n    height: 100%;\n  }\n}\n.ink-card-title {\n  font-size: var(--font-size-base);\n  font-weight: 600;\n  margin-bottom: var(--spacing-xs);\n}\n.ink-card-desc {\n  font-size: var(--font-size-sm);\n  color: var(--color-text-secondary);\n  margin: 0 0 var(--spacing-sm);\n}\n.ink-card-cost {\n  margin-bottom: var(--spacing-sm);\n}\n.ink-cost-num {\n  font-weight: 700;\n  color: #e6a23c;\n  font-size: 1.1em;\n}\n.ink-cost-unit {\n  margin-left: 2px;\n  color: var(--color-text-secondary);\n  font-size: var(--font-size-sm);\n}\n.ink-card-btn {\n  width: 100%;\n  margin-top: auto;\n}\n.ink-hint {\n  font-size: var(--font-size-sm);\n  color: var(--color-text-secondary);\n  margin-top: var(--spacing-sm);\n}\n\n.ink-log-section .ink-balance {\n  margin-bottom: var(--spacing-md);\n}\n.ink-plus {\n  color: var(--el-color-success);\n}\n.ink-minus {\n  color: var(--el-color-danger);\n}\n.ink-log-pagination {\n  margin-top: var(--spacing-md);\n}\n\n.membership-intro {\n  margin-bottom: var(--spacing-lg);\n  padding: var(--spacing-sm) 0;\n  font-size: var(--font-size-sm);\n  color: var(--color-text-secondary);\n}\n.membership-intro .ink-highlight {\n  font-weight: 700;\n  color: #e6a23c;\n}\n.membership-intro .contact-email {\n  color: #e6a23c;\n  text-decoration: underline;\n  cursor: pointer;\n  outline: none;\n}\n.membership-intro .contact-email:hover {\n  opacity: 0.9;\n}\n\n.membership-info-title {\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin: 0 0 var(--spacing-md);\n  color: var(--color-text-primary, #303133);\n}\n.membership-info {\n  padding: var(--spacing-md);\n  margin-bottom: var(--spacing-lg);\n}\n.membership-empty {\n  margin-bottom: var(--spacing-lg);\n}\n.membership-descriptions {\n  border-radius: 8px;\n  overflow: hidden;\n}\n.membership-descriptions .el-descriptions__label {\n  width: 100px;\n  font-weight: 500;\n  color: var(--color-text-secondary);\n}\n.membership-descriptions .el-descriptions__content {\n  color: var(--color-text-primary, #303133);\n}\n\n.membership-redeem {\n  margin-top: var(--spacing-lg);\n  padding-top: var(--spacing-lg);\n  border-top: 1px solid var(--border-color-light, #ebeef5);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.membership-redeem-title {\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin: 0 0 var(--spacing-md);\n  color: var(--color-text-primary, #303133);\n  align-self: flex-start;\n}\n.redeem-box {\n  display: flex;\n  gap: var(--spacing-sm);\n  align-items: center;\n  width: 100%;\n  max-width: 400px;\n}\n.redeem-input {\n  flex: 1;\n  max-width: 280px;\n}\n\n.security-section h4 {\n  margin-bottom: var(--spacing-sm);\n  font-size: var(--font-size-base);\n}\n\n.security-desc {\n  color: var(--color-text-secondary);\n  font-size: var(--font-size-sm);\n  margin-bottom: var(--spacing-md);\n}\n\n.cancel-email-hint {\n  margin: 0 0 var(--spacing-sm);\n  font-size: var(--font-size-sm);\n  color: var(--color-text-secondary);\n}\n\n.cancel-dialog-tip {\n  margin-bottom: var(--spacing-md);\n}\n\n.cancel-code-row {\n  display: flex;\n  gap: var(--spacing-sm);\n  width: 100%;\n}\n.cancel-code-input {\n  flex: 1;\n  min-width: 0;\n}\n\n.password-email-hint {\n  margin: 0 0 var(--spacing-md);\n  font-size: var(--font-size-sm);\n  color: var(--color-text-secondary);\n}\n\n.password-code-row {\n  display: flex;\n  gap: var(--spacing-sm);\n  width: 100%;\n}\n.password-code-input {\n  flex: 1;\n  min-width: 0;\n}\n\n.favorites-list {\n  min-height: 120px;\n}\n\n.favorite-item {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  padding: var(--spacing-sm) 0;\n  border-bottom: 1px solid var(--border-color-light, #ebeef5);\n}\n\n.favorite-item:last-child {\n  border-bottom: none;\n}\n\n.favorite-title {\n  flex: 1;\n  min-width: 0;\n  color: var(--color-primary);\n  text-decoration: none;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.favorite-title:hover {\n  text-decoration: underline;\n}\n\n.favorite-time,\n.favorite-meta {\n  flex-shrink: 0;\n  font-size: var(--font-size-sm);\n  color: var(--color-text-secondary);\n}\n\n.favorite-item .el-button {\n  flex-shrink: 0;\n}\n\n/* 小屏时表单 label 改为 80px */\n@media (max-width: 768px) {\n  .profile-page :deep(.profile-form .el-form-item__label) {\n    width: 80px !important;\n  }\n}\n\n/* 收藏表格可左右滑动，与历史记录一致 */\n.table-scroll-wrap {\n  overflow-x: auto;\n  min-height: 120px;\n}\n.profile-table {\n  min-width: 400px;\n}\n.table-link {\n  color: var(--color-primary);\n  text-decoration: none;\n}\n.table-link:hover {\n  text-decoration: underline;\n}\n</style>\n"],"names":["createFeedback","data","request","router","useRouter","route","useRoute","authStore","useAuthStore","activeTab","ref","formRef","passwordFormRef","form","reactive","passwordForm","passwordMaskedEmail","computed","maskEmail","cancelMaskedEmail","passwordSendingCode","passwordCountdown","passwordCountdownTimer","feedbackForm","cancelDialogVisible","cancelLoading","cancelSendingCode","cancelCountdown","cancelCountdownTimer","cancelForm","checkinDialogVisible","checkinResult","checkinLoading","lastCheckinWeekCount","hasCheckedInToday","checkinDayRewards","checkinWeekCount","checkinCurrentDayIndex","currentInkDrops","goToInkLog","onCheckinDialogClose","rules","passwordRules","_rule","value","callback","handleSendPasswordCode","userApi.sendEmailCodeForMe","ElMessage","error","onMounted","tab","watch","u","handleUpdateInfo","valid","userApi.updateUser","handleUpdatePassword","handleCheckin","result","userApi.checkin","weekCount","handleSubmitFeedback","feedbackApi.createFeedback","onCancelDialogClosed","openCancelDialog","handleSendCancelCode","onUnmounted","handleCancelAccount","userApi.cancelAccount","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_el_row","_component_el_col","_component_el_card","_hoisted_3","_component_el_avatar","_createTextVNode","_toDisplayString","_hoisted_4","_hoisted_5","_hoisted_6","_unref","_createBlock","_component_el_tag","_cache","_hoisted_7","_hoisted_8","_hoisted_9","_component_el_button","_normalizeClass","_component_el_dialog","$event","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_component_el_link","_Fragment","_hoisted_14","_renderList","reward","i","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_component_el_tabs","_component_el_tab_pane","_component_el_form","_component_el_form_item","_component_el_input","_hoisted_20","_hoisted_21","_hoisted_22","_component_el_alert","_hoisted_23","_hoisted_24"],"mappings":"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"}