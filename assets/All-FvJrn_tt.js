import{d as T,l as h,a0 as V,c as s,a as o,b as l,j as C,w as u,e as p,r as y,F as _,x as b,g as n,f as D,a1 as F,D as i,a2 as z,o as e,a3 as I,_ as M}from"./index-Ddg1ipA6.js";import{a as S}from"./classic-DRjAJbww.js";const j={class:"classic-all-page"},E={class:"all-inner"},L={class:"header"},R={key:0,class:"loading-wrap"},$={key:1,class:"empty-wrap"},q={key:2,class:"grid-wrap"},G={class:"card-inner"},H={class:"card-original"},J={class:"card-footer"},K={class:"card-meta"},O={key:4,class:"card-genre"},P={class:"card-right"},Q={class:"card-likes"},U={key:3,class:"footer-actions"},W=T({name:"ClassicAll",__name:"All",setup(X){const c=h([]),d=h(!1),w={格物修身:"cat-purple",济世情怀:"cat-indigo",道德情操:"cat-sky",人与自然:"cat-cyan",哲理思辨:"cat-emerald",文化传承:"cat-lime",理想信念:"cat-amber",成长成才:"cat-orange",家国情怀:"cat-red"};function x(r){const t=r.categories;return t?(Array.isArray(t)?t:String(t).split(",").map(m=>m.trim())).slice(0,2):[]}function A(r){return w[r.trim()]??"cat-gray"}async function k(){d.value=!0;try{const r=await S();c.value=r??[]}finally{d.value=!1}}async function f(){await k(),window.scrollTo({top:0,behavior:"smooth"})}return V(()=>{I()?.name!=="ClassicItemDetail"&&k()}),(r,t)=>{const g=y("el-button"),m=y("el-icon"),N=y("el-empty"),B=y("router-link");return e(),s("div",j,[t[6]||(t[6]=o("div",{class:"page-bg"},[o("div",{class:"page-bg-gradient"})],-1)),o("div",E,[o("section",L,[t[1]||(t[1]=o("h1",{class:"title title-font"},"句海漫游",-1)),t[2]||(t[2]=o("p",{class:"subtitle content-font"},"随机探索传统文化瑰宝",-1)),c.value.length>0?(e(),C(g,{key:0,type:"primary",loading:d.value,onClick:f},{default:u(()=>[...t[0]||(t[0]=[n("换一批",-1)])]),_:1},8,["loading"])):l("",!0)]),d.value&&c.value.length===0?(e(),s("section",R,[p(m,{class:"is-loading",size:32},{default:u(()=>[p(D(F))]),_:1})])):c.value.length===0&&!d.value?(e(),s("section",$,[p(N,{description:"暂无素材，请稍后再试"},{default:u(()=>[p(g,{type:"primary",onClick:f},{default:u(()=>[...t[3]||(t[3]=[n("重新加载",-1)])]),_:1})]),_:1})])):(e(),s("section",q,[(e(!0),s(_,null,b(c.value,a=>(e(),C(B,{key:a.id,to:`/classic/item/${a.id}`,class:"item-card"},{default:u(()=>[o("div",G,[o("h3",H,i(a.original_text),1),o("div",J,[o("span",K,[a.dynasty?(e(),s(_,{key:0},[n("［"+i(a.dynasty)+"］",1)],64)):l("",!0),a.author?(e(),s(_,{key:1},[n(i(a.author),1)],64)):l("",!0),a.author&&a.source?(e(),s(_,{key:2},[n(" · ")],64)):l("",!0),a.source?(e(),s(_,{key:3},[n(i(a.source),1)],64)):l("",!0),a.genre?(e(),s("span",O,i(a.genre),1)):l("",!0)]),o("div",P,[o("span",Q,[t[4]||(t[4]=o("span",{class:"icon-heart"},null,-1)),n(" "+i(a.likes??0),1)]),(e(!0),s(_,null,b(x(a),v=>(e(),s("span",{key:v,class:z(["category-tag",A(v)])},i(v),3))),128))])])])]),_:2},1032,["to"]))),128))])),c.value.length>0?(e(),s("section",U,[p(g,{type:"primary",loading:d.value,onClick:f},{default:u(()=>[...t[5]||(t[5]=[n("换一批",-1)])]),_:1},8,["loading"])])):l("",!0)])])}}}),tt=M(W,[["__scopeId","data-v-11abcbbd"]]);export{tt as default};
//# sourceMappingURL=All-FvJrn_tt.js.map
