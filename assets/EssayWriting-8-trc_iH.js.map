{"version":3,"file":"EssayWriting-8-trc_iH.js","sources":["../../src/views/classic/EssayWriting.vue"],"sourcesContent":["<template>\n  <div class=\"essay-writing-page\">\n    <div class=\"page-bg\">\n      <div class=\"page-bg-gradient\" />\n    </div>\n    <div class=\"essay-inner\">\n      <div v-if=\"loading\" class=\"loading-wrap\">\n        <el-icon class=\"is-loading\" :size=\"32\"><Loading /></el-icon>\n      </div>\n      <template v-else>\n        <aside class=\"sidebar\">\n          <h2 class=\"sidebar-title header-font\">《文心雕龙》</h2>\n          <nav class=\"category-nav\">\n            <button\n              v-for=\"cat in categories\"\n              :key=\"cat.id\"\n              type=\"button\"\n              class=\"category-btn\"\n              :class=\"{ active: selectedCategory === cat.id }\"\n              @click=\"selectedCategory = cat.id\"\n            >\n              {{ cat.title }}\n            </button>\n          </nav>\n        </aside>\n        <main ref=\"mainContentRef\" class=\"main-content\">\n          <template v-if=\"selectedCategory === 'introduction'\">\n            <div class=\"intro-card content-font\">\n              <h1 class=\"intro-title header-font\">{{ intro?.title }}</h1>\n              <div class=\"intro-body\">\n                <p class=\"intro-p\">{{ intro?.introduction?.summary }}</p>\n                <p class=\"intro-p\">{{ intro?.introduction?.showcase }}</p>\n                <div class=\"intro-section\">\n                  <h2 class=\"header-font\">重要性</h2>\n                  <p class=\"intro-p\">{{ intro?.significance?.content }}</p>\n                </div>\n              </div>\n            </div>\n          </template>\n          <template v-else>\n            <div class=\"items-list\">\n              <el-card\n                v-for=\"item in currentItems\"\n                :key=\"item.id\"\n                class=\"content-card\"\n                shadow=\"hover\"\n              >\n                <p class=\"original content-font\">{{ item.originalText }}</p>\n                <p class=\"source\">{{ item.source }}</p>\n                <p class=\"translation\">{{ item.translation }}</p>\n                <el-collapse>\n                  <el-collapse-item title=\"解析\" name=\"analysis\">\n                    <p class=\"analysis content-font\">{{ item.analysis }}</p>\n                  </el-collapse-item>\n                </el-collapse>\n              </el-card>\n            </div>\n          </template>\n        </main>\n        <aside class=\"sidebar sidebar-bottom\">\n          <h2 class=\"sidebar-title header-font\">《文心雕龙》</h2>\n          <nav class=\"category-nav\">\n            <button\n              v-for=\"cat in categories\"\n              :key=\"'bottom-' + cat.id\"\n              type=\"button\"\n              class=\"category-btn\"\n              :class=\"{ active: selectedCategory === cat.id }\"\n              @click=\"selectedCategory = cat.id\"\n            >\n              {{ cat.title }}\n            </button>\n          </nav>\n        </aside>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted, watch, nextTick } from 'vue'\nimport { Loading } from '@element-plus/icons-vue'\n\ninterface IntroData {\n  title: string\n  introduction: { summary: string; showcase: string }\n  significance: { content: string }\n}\n\ninterface ChapterItem {\n  id: string\n  source: string\n  originalText: string\n  translation: string\n  analysis: string\n}\n\ninterface ChaptersData {\n  categories: { id: string; title: string }[]\n  items: Record<string, ChapterItem[]>\n}\n\nconst intro = ref<IntroData | null>(null)\nconst chapters = ref<ChaptersData | null>(null)\nconst loading = ref(true)\nconst selectedCategory = ref('introduction')\n\nconst categories = computed(() => chapters.value?.categories ?? [])\nconst currentItems = computed(() => {\n  if (!chapters.value || selectedCategory.value === 'introduction') return []\n  return chapters.value.items[selectedCategory.value] ?? []\n})\n\nconst mainContentRef = ref<HTMLElement | null>(null)\n\nwatch(selectedCategory, () => {\n  nextTick(() => {\n    mainContentRef.value?.scrollIntoView({ behavior: 'smooth', block: 'start' })\n  })\n})\n\nonMounted(async () => {\n  try {\n    const base = import.meta.env.BASE_URL || '/'\n    const [introRes, chaptersRes] = await Promise.all([\n      fetch(`${base}classic/introduction.json`),\n      fetch(`${base}classic/chapters.json`),\n    ])\n    if (introRes.ok) intro.value = await introRes.json()\n    if (chaptersRes.ok) chapters.value = await chaptersRes.json()\n  } finally {\n    loading.value = false\n  }\n})\n</script>\n\n<style scoped>\n.essay-writing-page {\n  position: relative;\n  min-height: calc(100vh - var(--header-height) - 80px);\n}\n.page-bg {\n  position: absolute;\n  inset: 0;\n  z-index: -1;\n}\n.page-bg-gradient {\n  position: absolute;\n  inset: 0;\n  background: var(--page-bg-gradient);\n}\n.essay-inner {\n  max-width: 64rem;\n  margin: 0 auto;\n  padding: 32px 16px;\n  display: flex;\n  gap: 24px;\n  flex-wrap: wrap;\n}\n\n.sidebar-bottom {\n  display: none;\n}\n\n@media (max-width: 768px) {\n  .essay-inner {\n    flex-direction: column;\n  }\n\n  .sidebar {\n    flex: none;\n    width: 100%;\n    position: static;\n    order: 0;\n  }\n\n  .sidebar-title {\n    margin-bottom: 12px;\n  }\n\n  .category-nav {\n    flex-direction: row;\n    flex-wrap: wrap;\n    gap: 8px;\n  }\n\n  .category-btn {\n    flex: 1 1 auto;\n    min-width: fit-content;\n    text-align: center;\n  }\n\n  .main-content {\n    order: 1;\n  }\n\n  .sidebar-bottom {\n    display: block;\n    flex: none;\n    width: 100%;\n    order: 2;\n    margin-top: 16px;\n  }\n}\n.loading-wrap {\n  display: flex;\n  justify-content: center;\n  padding: 48px;\n  width: 100%;\n}\n.sidebar {\n  flex: 0 0 220px;\n  background: rgba(255, 255, 255, 0.85);\n  backdrop-filter: blur(8px);\n  -webkit-backdrop-filter: blur(8px);\n  border-radius: var(--border-radius-base);\n  border: 1px solid var(--border-color-lighter);\n  padding: 20px;\n  box-shadow: var(--box-shadow-base);\n  height: fit-content;\n}\n.sidebar-title {\n  font-size: var(--font-size-xl);\n  font-weight: 600;\n  margin-bottom: 16px;\n  color: var(--color-text-primary);\n}\n.category-nav {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n.category-btn {\n  width: 100%;\n  text-align: left;\n  padding: 10px 12px;\n  border: none;\n  border-radius: var(--border-radius-small);\n  background: transparent;\n  color: var(--color-text-regular);\n  font-size: var(--font-size-base);\n  cursor: pointer;\n  transition:\n    background 0.2s,\n    color 0.2s;\n}\n.category-btn:hover {\n  background: var(--tag-gray-bg);\n  color: var(--color-text-primary);\n}\n.category-btn.active {\n  background: var(--tag-emerald-bg);\n  color: var(--tag-emerald-text);\n  font-weight: 500;\n}\n.main-content {\n  flex: 1;\n  min-width: 0;\n  scroll-margin-top: calc(var(--header-height) + 16px);\n}\n.intro-card {\n  background: rgba(255, 255, 255, 0.75);\n  backdrop-filter: blur(8px);\n  -webkit-backdrop-filter: blur(8px);\n  border-radius: var(--border-radius-large);\n  border: 1px solid var(--border-color-lighter);\n  padding: 28px;\n  box-shadow: var(--box-shadow-base);\n}\n.intro-title {\n  font-size: var(--font-size-xxl);\n  margin-bottom: 20px;\n  color: var(--color-text-primary);\n}\n.intro-body {\n  color: var(--color-text-regular);\n  line-height: 1.8;\n}\n.intro-p {\n  margin-bottom: 16px;\n  white-space: pre-line;\n}\n.intro-section {\n  margin-top: 24px;\n  padding-top: 16px;\n  border-top: 1px solid var(--border-color-light);\n}\n.intro-section h2 {\n  font-size: var(--font-size-xl);\n  margin-bottom: 12px;\n  color: var(--color-text-primary);\n}\n.items-list {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n.content-card {\n  border-radius: var(--border-radius-base);\n  background: var(--card-gradient);\n  border: 1px solid rgba(214, 211, 209, 0.6);\n  box-shadow: var(--card-shadow);\n}\n.content-card:hover {\n  box-shadow: var(--box-shadow-dark);\n}\n.content-card :deep(.el-card__body) {\n  padding: 20px;\n}\n\n.content-card :deep(.el-collapse) {\n  border: none;\n  --el-collapse-header-height: 32px;\n}\n.content-card :deep(.el-collapse-item) {\n  border-radius: var(--border-radius-small);\n  overflow: hidden;\n  border: 1px solid var(--border-color-lighter);\n}\n.content-card :deep(.el-collapse-item__header) {\n  height: 32px;\n  min-height: 32px;\n  padding: 6px 12px;\n  font-size: var(--font-size-sm);\n  font-weight: 500;\n  color: var(--color-text-primary);\n  background: rgba(255, 251, 235, 0.5);\n  border-bottom: none;\n  border-radius: var(--border-radius-small);\n  transition: background 0.2s;\n}\n.content-card :deep(.el-collapse-item__header:hover) {\n  background: rgba(255, 251, 235, 0.7);\n}\n.content-card :deep(.el-collapse-item.is-active .el-collapse-item__header) {\n  background: rgba(255, 251, 235, 0.5);\n  border-radius: var(--border-radius-small) var(--border-radius-small) 0 0;\n}\n.content-card :deep(.el-collapse-item__wrap) {\n  border-bottom: none;\n  background: rgba(255, 251, 235, 0.5);\n  border-radius: 0 0 var(--border-radius-small) var(--border-radius-small);\n}\n.content-card :deep(.el-collapse-item__content) {\n  padding: 12px 14px;\n  font-size: var(--font-size-sm);\n  color: var(--color-text-regular);\n  line-height: 1.7;\n}\n\n.original {\n  font-size: var(--font-size-lg);\n  line-height: 1.7;\n  margin-bottom: 8px;\n  color: var(--color-text-primary);\n}\n.source {\n  font-size: var(--font-size-sm);\n  color: var(--color-text-secondary);\n  margin-bottom: 12px;\n}\n.translation {\n  font-size: var(--font-size-base);\n  color: var(--color-text-regular);\n  margin-bottom: 12px;\n  line-height: 1.6;\n}\n.analysis {\n  font-size: var(--font-size-sm);\n  color: var(--color-text-regular);\n  line-height: 1.6;\n}\n</style>\n"],"names":["intro","ref","chapters","loading","selectedCategory","categories","computed","currentItems","mainContentRef","watch","nextTick","onMounted","base","introRes","chaptersRes","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_el_icon","_unref","Loading","_Fragment","_hoisted_4","_cache","_hoisted_5","_renderList","cat","$event","_toDisplayString","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","item","_createBlock","_component_el_card","_hoisted_15","_hoisted_16","_hoisted_17","_component_el_collapse","_component_el_collapse_item","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21"],"mappings":"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"}